{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\event-listener.js"],"names":["EventListener","obj","Register","on","name","method","hasOwnProperty","push","fire","console","log","handlerList","i","length","handler","args","j","arguments","apply","off","splice","destroy","module","exports"],"mappings":";;;;;;AAAA;;;AAGA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAAUC,GAAV,EAAe;AACjC,QAAIC,WAAW,EAAf;AACAD,QAAIE,EAAJ,GAAU,UAAUC,IAAV,EAAgBC,MAAhB,EAAwB;AAC9B,YAAI,CAACH,SAASI,cAAT,CAAwBF,IAAxB,CAAL,EAAmC;AAC/BF,qBAASE,IAAT,IAAiB,EAAjB;AACH;AACDF,iBAASE,IAAT,EAAeG,IAAf,CAAoBF,MAApB;AACH,KALD;AAMAJ,QAAIO,IAAJ,GAAW,UAAUJ,IAAV,EAAgB;AACvBK,gBAAQC,GAAR,CAAY,UAAUN,IAAtB;AACA,YAAIF,SAASI,cAAT,CAAwBF,IAAxB,CAAJ,EAAkC;AAC9BK,oBAAQC,GAAR,CAAY,aAAaN,IAAzB;AACA,gBAAIO,cAAcT,SAASE,IAAT,CAAlB;AACA,iBAAK,IAAIQ,IAAI,CAAb,EAAiBA,IAAID,YAAYE,MAAjC,EAA0CD,GAA1C,EAA+C;AAC3C,oBAAIE,UAAUH,YAAYC,CAAZ,CAAd;AACA,oBAAIG,OAAO,EAAX;AACA,qBAAK,IAAIC,IAAI,CAAb,EAAiBA,IAAIC,UAAUJ,MAA/B,EAAwCG,GAAxC,EAA6C;AACzCD,yBAAKR,IAAL,CAAUU,UAAUD,CAAV,CAAV;AACH;AACDF,wBAAQI,KAAR,CAAc,IAAd,EAAoBH,IAApB;AACA;AACH;AACJ;AACJ,KAfD;AAgBAd,QAAIkB,GAAJ,GAAU,UAAUf,IAAV,EAAgBC,MAAhB,EAAwB;AAC9BI,gBAAQC,GAAR,CAAY,wBAAwBN,IAApC;AACA,YAAIF,SAASI,cAAT,CAAwBF,IAAxB,CAAJ,EAAkC;AAC9B,gBAAIO,cAAcT,SAASE,IAAT,CAAlB;AACA,iBAAK,IAAIQ,IAAI,CAAb,EAAiBA,IAAID,YAAYE,MAAjC,EAA0CD,GAA1C,EAA+C;AAC3C,oBAAID,YAAYC,CAAZ,MAAmBP,MAAvB,EAA8B;AAC1BM,gCAAYS,MAAZ,CAAmBR,CAAnB,EAAuB,CAAvB;AACH;AACJ;AACJ;AACJ,KAVD;AAWAX,QAAIoB,OAAJ,GAAc,YAAY;AACtBnB,mBAAW,EAAX;AACH,KAFD;AAGA,WAAOD,GAAP;AACH,CAvCD;AAwCA;AACAqB,OAAOC,OAAP,GAAiBvB,aAAjB","file":"event-listener.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["/**\r\n * Created by chu on 2017/8/16 0016.\r\n */\r\nconst EventListener = function (obj) {\r\n    let Register = {};\r\n    obj.on =  function (name, method) {\r\n        if (!Register.hasOwnProperty(name)){\r\n            Register[name] = [];\r\n        }\r\n        Register[name].push(method);\r\n    };\r\n    obj.fire = function (name) {\r\n        console.log(\"fire \" + name);\r\n        if (Register.hasOwnProperty(name)){\r\n            console.log(\"has own \" + name);\r\n            var handlerList = Register[name];\r\n            for (let i = 0 ; i < handlerList.length ; i ++){\r\n                let handler = handlerList[i];\r\n                let args = [];\r\n                for (let j = 1 ; j < arguments.length ; j ++){\r\n                    args.push(arguments[j]);\r\n                }\r\n                handler.apply(this, args);\r\n                // console.log(\"args = \" + JSON.stringify(args));\r\n            }\r\n        }\r\n    };\r\n    obj.off = function (name, method) {\r\n        console.log(\"off handler name = \" + name);\r\n        if (Register.hasOwnProperty(name)){\r\n            var handlerList = Register[name];\r\n            for (var i = 0 ; i < handlerList.length ; i ++){\r\n                if (handlerList[i] === method){\r\n                    handlerList.splice(i , 1);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    obj.destroy = function () {\r\n        Register = {};\r\n    };\r\n    return obj;\r\n};\r\n// export default EventListener;\r\nmodule.exports = EventListener;"]}