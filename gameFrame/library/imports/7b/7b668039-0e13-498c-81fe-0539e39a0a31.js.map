{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\uiManager.js"],"names":["cc","Class","extends","Component","onLoad","uimgr","showui","ui","closeallui","parent","node","loader","loadRes","Prefab","err","_prefab","log","_prefabNode","instantiate","bind","i","removeFromParent","closeui","updateUIMsg","msgtype","key"],"mappings":";;;;;;AAAA;;;;AAIAA,GAAGC,KAAH,CAAS;AACLC,aAAQF,GAAGG,SADN;;AAGLC,YAAO,kBAAU;AACb,aAAKC,KAAL,GAAa,EAAb;AACH,KALI;;AAOLC,YAAO,gBAASC,EAAT,EAAY;AACf,aAAKC,UAAL;AACA,YAAG,KAAKH,KAAL,CAAWE,EAAX,CAAH,EAAkB;AACd,iBAAKF,KAAL,CAAWE,EAAX,EAAeE,MAAf,GAAwB,KAAKC,IAA7B;AACH,SAFD,MAEK;AACDV,eAAGW,MAAH,CAAUC,OAAV,CAAkB,aAAaL,EAA/B,EAAkCP,GAAGa,MAArC,EAA4C,UAASC,GAAT,EAAeC,OAAf,EAAuB;AAC/D,oBAAGD,GAAH,EAAO;AACHd,uBAAGgB,GAAH,CAAOF,GAAP;AACA;AACH;AACD,oBAAIG,cAAcjB,GAAGkB,WAAH,CAAeH,OAAf,CAAlB;AACAE,4BAAYR,MAAZ,GAAqB,KAAKC,IAA1B;AACA,qBAAKL,KAAL,CAAWE,EAAX,IAAiBU,WAAjB;AACH,aAR2C,CAQ1CE,IAR0C,CAQrC,IARqC,CAA5C;AASH;AACJ,KAtBI;;AAwBLX,gBAAW,sBAAU;AACjB,aAAI,IAAIY,CAAR,IAAa,KAAKf,KAAlB,EAAwB;AACpB,iBAAKA,KAAL,CAAWe,CAAX,EAAcC,gBAAd;AACH;AACJ,KA5BI;;AA8BLC,aAAQ,iBAASf,EAAT,EAAY;AAChB,YAAG,KAAKF,KAAL,CAAWE,EAAX,CAAH,EAAkB;AACd,iBAAKF,KAAL,CAAWE,EAAX,EAAec,gBAAf;AACH;AACJ,KAlCI;;AAoCLE,iBAAY,qBAASC,OAAT,EAAiB;AACzB,aAAI,IAAIC,GAAR,IAAe,KAAKpB,KAApB,EAA0B;AACtB,gBAAG,KAAKA,KAAL,CAAWoB,GAAX,KAAmB,IAAtB,EAA2B;AACvB;AACH;AACD,gBAAG,KAAKpB,KAAL,CAAWoB,GAAX,EAAgBF,WAAhB,CAA4BC,OAA5B,CAAH,EAAwC;AACpC;AACH;AACJ;AACJ;;AA7CI,CAAT","file":"uiManager.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["/**\r\n * Created by Administrator on 2018-4-16.\r\n */\r\n\r\ncc.Class({\r\n    extends:cc.Component,\r\n\r\n    onLoad:function(){\r\n        this.uimgr = {};\r\n    },\r\n\r\n    showui:function(ui){\r\n        this.closeallui();\r\n        if(this.uimgr[ui]){\r\n            this.uimgr[ui].parent = this.node;\r\n        }else{\r\n            cc.loader.loadRes('prefabs/' + ui,cc.Prefab,function(err , _prefab){\r\n                if(err){\r\n                    cc.log(err)\r\n                    return\r\n                }\r\n                var _prefabNode = cc.instantiate(_prefab);\r\n                _prefabNode.parent = this.node;\r\n                this.uimgr[ui] = _prefabNode;\r\n            }.bind(this))\r\n        }\r\n    },\r\n\r\n    closeallui:function(){\r\n        for(var i in this.uimgr){\r\n            this.uimgr[i].removeFromParent();\r\n        }\r\n    },\r\n\r\n    closeui:function(ui){\r\n        if(this.uimgr[ui]){\r\n            this.uimgr[ui].removeFromParent()\r\n        }\r\n    },\r\n\r\n    updateUIMsg:function(msgtype){\r\n        for(var key in this.uimgr){\r\n            if(this.uimgr[key] == null){\r\n                continue;\r\n            }\r\n            if(this.uimgr[key].updateUIMsg(msgtype)){\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n})\r\n"]}